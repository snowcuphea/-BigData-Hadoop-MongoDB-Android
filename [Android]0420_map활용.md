* 지도 사용할 때 이 문서에 적힌 방식대로 활용한다.



_구글맵은 카메라로 지도를 비추고 있는 형태가 모델링되어있기 때문에 이 위치를 찾는데 시간이 걸린다._

_따라서 내부에서 자동으로 전달될 수 있도록 작업 - v2로 바뀌면서 적용된 내용_



```
SupportMapFragment로부터 지도객체를 추출해야 지도에 여러 가지 작업을 처리할 수 있다.
```

![image-20200420092643736](images/image-20200420092643736.png)



1. ```
   OnMapReadyCallback을 구현하고 onMapReady메소드를 오버라이딩
   ```

![image-20200420092756441](images/image-20200420092756441.png)



2. ```
   SupportMapFragment객체에 getMapAsync메소드를 이용해서
     1번에서 구현한 OnMapReadyCallback 객체를 연결
   ```

![image-20200420093525064](images/image-20200420093525064.png)



3. ```
   맵이 준비되었을 때 자동으로 onMapReady메소드가 호출되면서 매개변수로 구글맵이 전달된다.
   ```

![image-20200420093505212](images/image-20200420093505212.png)





4. 위도 경도를 셋팅하고, CameraUpdate객체의 메소드를 사용해본다.

![image-20200420094733226](images/image-20200420094733226.png)



실행결과

![image-20200420094838959](images/image-20200420094838959.png)



너무 멀어서 잘 보이지 않는다.

이번에는 `newLatLngZoom` 메소드를 사용해본다.

![image-20200420094924208](images/image-20200420094924208.png)

![image-20200420094933183](images/image-20200420094933183.png)





이번엔 다른 기능인 카메라위치 객체를 활용해 같은 동작을 수행해 본다.

카메라에 대한 정보를 담고있는 빌더 객체를 활용

![image-20200420095337962](images/image-20200420095337962.png)



결과는 같다.

![image-20200420095409153](images/image-20200420095409153.png)



하지만 코드는 앞에서 한 것이 더 간단하다.



---

![image-20200420101114594](images/image-20200420101114594.png)

![image-20200420101144986](images/image-20200420101144986.png)





* 마커 

![image-20200420101257906](images/image-20200420101257906.png)

![image-20200420101554036](images/image-20200420101554036.png)

![image-20200420101706440](images/image-20200420101706440.png)



* 반경 추가

  ![image-20200420102526186](images/image-20200420102526186.png)

  

![image-20200420102504071](images/image-20200420102504071.png)



### 마커 찍을 때, 예를 들면 여러 식당의 위치를 찍고 싶다면 리스트를 for문으로 돌려서 찍으면 된다. 





![image-20200420103042377](images/image-20200420103042377.png)

![image-20200420103226906](images/image-20200420103226906.png)





---

```
지도화면이 출력된 후에 이벤트를 연결할 수 있어야 한다.
지도를 클릭하거나, 지도를 드래그, 지도 줌레벨버튼을 이용해 줌레벨을 변경
```

### MapEventTest

![image-20200420104544329](images/image-20200420104544329.png)

![image-20200420104115392](images/image-20200420104115392.png)





* OnMapClickListener : 지도를 클릭할 때 발생하는 이벤트 처리

![image-20200420104226434](images/image-20200420104226434.png)





![image-20200420104648744](images/image-20200420104648744.png)

![image-20200420104742178](images/image-20200420104742178.png)





* ```
  OnMapLongClickListener
  ```

맵을 길게 눌렀을 때 발생하는 이벤트에 대한 처리



![image-20200420104854562](images/image-20200420104854562.png)





![image-20200420105013552](images/image-20200420105013552.png)![image-20200420105036434](images/image-20200420105036434.png)



![image-20200420105118570](images/image-20200420105118570.png)







* ```
  지도의 위치가 바뀌거나 줌레벨이 변경되면 발생하는 이벤트에 대한 처리
  ```

![image-20200420110754514](images/image-20200420110754514.png)

![image-20200420111313306](images/image-20200420111313306.png)

![image-20200420111343738](images/image-20200420111343738.png)







![image-20200420111259356](images/image-20200420111259356.png)

![image-20200420111422625](images/image-20200420111422625.png)

![image-20200420111448642](images/image-20200420111448642.png)